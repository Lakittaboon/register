<!DOCTYPE html>
<html lang="th">
<head>
    <base target="_top">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <iframe id="appFrame" style="width: 100%; height: 100vh;" frameborder="0"></iframe>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        liff.init({ liffId: "2007304426-36dg1R7b" })
            .then(() => {
                if (!liff.isLoggedIn()) {
                    liff.login();
                } else {
                    liff.getProfile().then(profile => {
                        const userId = profile.userId;

                        // ðŸ‘‡ à¸ªà¹ˆà¸‡ userId à¹„à¸›à¹ƒà¸™ URL à¸‚à¸­à¸‡ Apps Script Web App
                        const iframeUrl = `https://script.google.com/macros/s/AKfycbySc6sdaJzeQe0MayNn7gDF5gZn2JR4lxgUyo_bqUebrgLUwhjG1rFaXuzBdJX7xhB2/exec?userId=${encodeURIComponent(userId)}`;
                        document.getElementById("appFrame").src = iframeUrl;
                    });
                }
            })
            .catch(console.error);
    </script>
</body>
</html>
